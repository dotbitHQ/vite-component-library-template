import { Header } from '../../components'
import { useWalletState, setWalletState } from '../../store'
import WalletSDK from '../../wallets'
import { AddressItem } from '../../components/AddressItem'
import { collapseString } from '../../utils'

interface AddressListProps {
  walletSDK: WalletSDK
  onClose: () => void
  goBack: () => void
}

export const AddressList = ({ walletSDK, goBack, onClose }: AddressListProps) => {
  const { walletSnap } = useWalletState()

  const close = () => {
    onClose()
  }

  const onSwitchAddress = (address: string) => {
    setWalletState({ address })
    goBack()
  }

  const addressListMock = [
    'ckt1qqexmutxu0c2jq9q4msy8cc6fh4q7q02xvr7dc347zw3ks3qka0m6qgrqgygrcl4k7pjuafdzmlzwy8ws4dxja7uqvpq3q0r7kmcxtn495t0ufcsa6z456thms2q582x',
    'ckt1qqexmutxu0c2jq9q4msy8cc6fh4q7q02xvr7dc347zw3ks3qka0m6qgrqgygrcl4k7pjuafdzmlzwy8ws4dxja7uqvpq3q0r7kmcxtn495t0ufcsa6z456thms2q582x',
    'ckt1qqexmutxu0c2jq9q4msy8cc6fh4q7q02xvr7dc347zw3ks3qka0m6qgrqgygrcl4k7pjuafdzmlzwy8ws4dxja7uqvpq3q0r7kmcxtn495t0ufcsa6z456thms2q582x',
    'ckt1qqexmutxu0c2jq9q4msy8cc6fh4q7q02xvr7dc347zw3ks3qka0m6qgrqgygrcl4k7pjuafdzmlzwy8ws4dxja7uqvpq3q0r7kmcxtn495t0ufcsa6z456thms2q582x',
    'ckt1qqexmutxu0c2jq9q4msy8cc6fh4q7q02xvr7dc347zw3ks3qka0m6qgrqgygrcl4k7pjuafdzmlzwy8ws4dxja7uqvpq3q0r7kmcxtn495t0ufcsa6z456thms2q582x',
    'ckt1qqexmutxu0c2jq9q4msy8cc6fh4q7q02xvr7dc347zw3ks3qka0m6qgrqgygrcl4k7pjuafdzmlzwy8ws4dxja7uqvpq3q0r7kmcxtn495t0ufcsa6z456thms2q582x',
    'ckt1qqexmutxu0c2jq9q4msy8cc6fh4q7q02xvr7dc347zw3ks3qka0m6qgrqgygrcl4k7pjuafdzmlzwy8ws4dxja7uqvpq3q0r7kmcxtn495t0ufcsa6z456thms2q582x',
    'ckt1qqexmutxu0c2jq9q4msy8cc6fh4q7q02xvr7dc347zw3ks3qka0m6qgrqgygrcl4k7pjuafdzmlzwy8ws4dxja7uqvpq3q0r7kmcxtn495t0ufcsa6z456thms2q582x',
    'ckt1qqexmutxu0c2jq9q4msy8cc6fh4q7q02xvr7dc347zw3ks3qka0m6qgrqgygrcl4k7pjuafdzmlzwy8ws4dxja7uqvpq3q0r7kmcxtn495t0ufcsa6z456thms2q582x',
    'ckt1qqexmutxu0c2jq9q4msy8cc6fh4q7q02xvr7dc347zw3ks3qka0m6qgrqgygrcl4k7pjuafdzmlzwy8ws4dxja7uqvpq3q0r7kmcxtn495t0ufcsa6z456thms2q582x',
    'ckt1qqexmutxu0c2jq9q4msy8cc6fh4q7q02xvr7dc347zw3ks3qka0m6qgrqgygrcl4k7pjuafdzmlzwy8ws4dxja7uqvpq3q0r7kmcxtn495t0ufcsa6z456thms2q582x',
    'ckt1qqexmutxu0c2jq9q4msy8cc6fh4q7q02xvr7dc347zw3ks3qka0m6qgrqgygrcl4k7pjuafdzmlzwy8ws4dxja7uqvpq3q0r7kmcxtn495t0ufcsa6z456thms2q582x',
    'ckt1qqexmutxu0c2jq9q4msy8cc6fh4q7q02xvr7dc347zw3ks3qka0m6qgrqgygrcl4k7pjuafdzmlzwy8ws4dxja7uqvpq3q0r7kmcxtn495t0ufcsa6z456thms2q582x',
    'ckt1qqexmutxu0c2jq9q4msy8cc6fh4q7q02xvr7dc347zw3ks3qka0m6qgrqgygrcl4k7pjuafdzmlzwy8ws4dxja7uqvpq3q0r7kmcxtn495t0ufcsa6z456thms2q582x',
  ]

  return (
    <>
      <Header className="p-6" title="Switch Address" goBack={goBack} onClose={close} />
      <div className="scrollbar-hide mx-6 my-0 max-h-dialog-list-max-height overflow-y-auto">
        <label className="mb-2 block text-[13px] text-[#5F6570]">Generated by this device</label>
        <ul className="mb-3">
          <AddressItem
            address={collapseString(walletSnap.address, 8, 4)}
            isCurrent={true}
            onClick={() => {
              onSwitchAddress(walletSnap.address as string)
            }}
          ></AddressItem>
        </ul>
        <label className="mb-2 block text-[13px] text-[#5F6570]">Associated with this device</label>
        <ul className="mb-6">
          {addressListMock.map((address) => {
            return (
              <AddressItem
                className="mb-2"
                address={collapseString(address, 8, 4)}
                onClick={() => {
                  onSwitchAddress(address)
                }}
              ></AddressItem>
            )
          })}
        </ul>
      </div>
    </>
  )
}
